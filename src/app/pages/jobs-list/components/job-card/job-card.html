@if (job()) {
  <div
    class="w-[92%] sm:w-full mx-auto max-w-none group rounded-xl border border-gray-200 bg-white p-5 shadow-sm hover:shadow-md hover:-translate-y-0.5 focus-within:ring-2 focus-within:ring-blue-500 transition cursor-pointer flex flex-col gap-4 select-none"
    role="button"
    tabindex="0"
    [attr.aria-label]="'View job: ' + job().title + ' at ' + job().page.name"
    (click)="onClick()"
    (keydown.enter)="onClick()"
    (keydown.space)="onClick()">
    <!-- header -->
    <div class="flex items-start justify-between gap-4">
      <div class="min-w-0">
        <h2
          class="text-lg md:text-xl font-semibold tracking-tight text-gray-900 truncate">
          {{ job().title }}
        </h2>
        <p class="text-gray-700 font-medium truncate">
          {{ job().page.name }}
        </p>
      </div>

      <!-- type badge -->
      @if (job().type; as t) {
        <span
          class="inline-flex items-center text-center rounded-full px-2.5 py-1 text-xs font-medium ring-1 min-w-[5rem]"
          [ngClass]="{
            'bg-emerald-100 text-emerald-800 ring-emerald-200':
              t.toLowerCase() === 'full-time' ||
              t.toLowerCase() === 'full time',
            'bg-indigo-100 text-indigo-800 ring-indigo-200':
              t.toLowerCase() === 'part-time' ||
              t.toLowerCase() === 'part time',
            'bg-amber-100 text-amber-800 ring-amber-200':
              t.toLowerCase() === 'contract',
            'bg-sky-100 text-sky-800 ring-sky-200':
              t.toLowerCase() === 'internship' || t.toLowerCase() === 'intern',
          }">
          {{ t }}
        </span>
      }
    </div>

    <div
      class="flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-gray-600">
      <div class="inline-flex items-center gap-1.5">
        <svg
          class="h-4 w-4"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true">
          <path
            d="M3 4a2 2 0 012-2h6a2 2 0 012 2v12h3a1 1 0 110 2H2a1 1 0 110-2h1V4zm8 12V4H5v12h6z" />
        </svg>
        <span class="truncate max-w-full">{{ job().page.name || 'â€”' }}</span>
      </div>

      <div class="inline-flex items-center gap-1.5">
        <svg
          class="h-4 w-4"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true">
          <path
            d="M10 2a6 6 0 00-6 6c0 4 6 10 6 10s6-6 6-10a6 6 0 00-6-6zm0 8a2 2 0 110-4 2 2 0 010 4z" />
        </svg>
        <span class="truncate max-w-full">
          {{ job().location?.city?.name || '' }}
          {{
            job().location?.city?.name && job().location?.country?.name
              ? ', '
              : ''
          }}
          {{ job().location?.country?.name || '' }}
        </span>
      </div>

      <div class="inline-flex items-center gap-1.5">
        <svg
          class="h-4 w-4"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true">
          <path
            d="M6 2a2 2 0 00-2 2v1h12V4a2 2 0 00-2-2H6zm10 5H4v7a2 2 0 002 2h8a2 2 0 002-2V7zM9 9h2v3H9V9z" />
        </svg>
        <span>Posted: {{ job().created_at | date: 'mediumDate' }}</span>
      </div>
    </div>

    <!-- description -->
    <p class="text-gray-600 text-sm leading-6 line-clamp-3">
      {{ job().description ?? 'No description yet' }}
    </p>
  </div>
}
